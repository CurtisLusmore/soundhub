{"version":3,"sources":["ConnectionContext.js","Button.jsx","App.jsx","index.js","Connection.js"],"names":["ConnectionContext","React","createContext","Button","icon","src","Consumer","connection","button","createRef","audio","onPlay","elem","current","classList","add","clearTimeout","bouncer","setTimeout","remove","play","ref","class","id","onClick","send","App","this","props","Provider","value","Component","playHandlers","HubConnectionBuilder","withUrl","build","on","console","log","fx","that","start","then","invoke","room","catch","error","message","action","callback","URLSearchParams","window","location","search","get","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.6083f936.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nconst ConnectionContext = React.createContext(() => {});\r\n\r\nexport default ConnectionContext;\r\n","import React from 'react';\r\nimport ConnectionContext from './ConnectionContext';\r\n\r\nconst bounce = function (elem) {\r\n  elem.classList.add('bounce');\r\n  clearTimeout(elem.bouncer);\r\n  elem.bouncer = setTimeout(function () { elem.classList.remove('bounce'); }, 500);\r\n};\r\n\r\nconst Button = function ({ icon, src }) {\r\n  return <ConnectionContext.Consumer>{function (connection) {\r\n    const button = React.createRef();\r\n    const audio = React.createRef();\r\n    connection.onPlay(icon, function () {\r\n      bounce(button.current);\r\n      audio.current.play();\r\n    });\r\n    return <>\r\n      <span ref={button} class=\"button\" id={`${icon}-button`} onClick={() => connection.send(icon)}>{icon}</span>\r\n      <audio ref={audio} id={`${icon}-player`} src={src}></audio>\r\n    </>;\r\n  }}</ConnectionContext.Consumer>\r\n};\r\n\r\nexport default Button;\r\n","import React from 'react';\nimport Button from './Button';\nimport ConnectionContext from './ConnectionContext';\nimport './App.css';\n\n\nclass App extends React.Component {\n  render() {\n    const { connection } = this.props;\n    return <ConnectionContext.Provider value={connection}>\n      <div class=\"grid\">\n        <Button icon=\"üëè\" src=\"/audio/clap.mp3\" />\n        <Button icon=\"ü•≥\" src=\"/audio/party.mp3\" />\n        <Button icon=\"ü§£\" src=\"/audio/laugh.mp3\" />\n        <Button icon=\"ü•Å\" src=\"/audio/drum.mp3\" />\n        <Button icon=\"üèÜ\" src=\"/audio/success.mp3\" />\n        <Button icon=\"ü§Ø\" src=\"/audio/wow.mp3\" />\n        <Button icon=\"üòÆ\" src=\"/audio/ooh.mp3\" />\n        <Button icon=\"ü§ë\" src=\"/audio/kaching.mp3\" />\n        <Button icon=\"ü•∫\" src=\"/audio/aww.mp3\" />\n        <Button icon=\"ü§î\" src=\"/audio/hmm.mp3\" />\n        <Button icon=\"ü§®\" src=\"/audio/huh.mp3\" />\n        <Button icon=\"ü•±\" src=\"/audio/yawn.mp3\" />\n        <Button icon=\"üòà\" src=\"/audio/evil.mp3\" />\n        <Button icon=\"ü§¶\" src=\"/audio/facepalm.mp3\" />\n        <Button icon=\"ü§¨\" src=\"/audio/boo.mp3\" />\n        <Button icon=\"üò±\" src=\"/audio/scream.mp3\" />\n        <Button icon=\"ü¶ó\" src=\"/audio/cricket.mp3\" />\n        <Button icon=\"ü¶ñ\" src=\"/audio/dinosaur.mp3\" />\n        <Button icon=\"üßè\" src=\"/audio/louder.mp3\" />\n        <Button icon=\"ü§´\" src=\"/audio/ssh.mp3\" />\n        <Button icon=\"üëç\" src=\"/audio/yes.mp3\" />\n        <Button icon=\"üëé\" src=\"/audio/no.mp3\" />\n        <Button icon=\"üôÜ\" src=\"/audio/right.mp3\" />\n        <Button icon=\"üôÖ\" src=\"/audio/wrong.mp3\" />\n      </div>\n    </ConnectionContext.Provider>\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport Connection from './Connection';\n\nconst params = new URLSearchParams(window.location.search);\nconst room = params.get('room') || 'üåè';\nconst connection = new Connection({ room });\n\nReactDOM.render(\n  <React.StrictMode>\n    <App connection={connection} />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n","import { HubConnectionBuilder } from '@microsoft/signalr';\r\n\r\nclass Connection {\r\n  constructor(props) {\r\n    this.playHandlers = {};\r\n    this.props = props;\r\n\r\n    this.connection = new HubConnectionBuilder()\r\n      .withUrl('/sound')\r\n      .build();\r\n\r\n    this.connection.on('join', () => console.log('Somebody joined'));\r\n    this.connection.on('play', fx => {\r\n      console.log('Playing', fx);\r\n      this.playHandlers[fx]();\r\n    });\r\n\r\n    const that = this;\r\n    this.connection\r\n      .start()\r\n      .then(function () {\r\n        console.log('Connection started');\r\n        that.connection.invoke('join', that.props.room);\r\n      })\r\n      .catch(error => {\r\n        console.error('Failed to connect', error.message);\r\n      });\r\n  }\r\n\r\n  send(fx) {\r\n    this.connection.invoke('send', this.props.room, fx);\r\n  }\r\n\r\n  onPlay(action, callback) {\r\n    this.playHandlers[action] = callback;\r\n  }\r\n}\r\n\r\nexport default Connection;"],"sourceRoot":""}