{"version":3,"sources":["ConnectionContext.js","ConnectionStatus.jsx","Button.jsx","SoundBoard.jsx","App.jsx","index.js","Connection.js"],"names":["ConnectionContext","React","createContext","props","Consumer","connection","class","status","onClick","connect","Button","icon","src","button","createRef","audio","onPlay","elem","current","classList","add","clearTimeout","bouncer","setTimeout","remove","play","ref","id","send","App","state","onConnecting","setState","onConnected","onDisconnect","this","Provider","value","Component","playHandlers","connectingHandler","connectedHandler","disconnectedHandler","fx","invoke","room","action","callback","HubConnectionBuilder","withUrl","build","on","console","log","onclose","start","then","catch","error","message","URLSearchParams","window","location","search","get","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.4a720dee.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nconst ConnectionContext = React.createContext(() => {});\r\n\r\nexport default ConnectionContext;\r\n","import React from 'react';\r\nimport ConnectionContext from './ConnectionContext';\r\nimport './ConnectionStatus.css';\r\n\r\nexport default function (props) {\r\n  return <ConnectionContext.Consumer>{function (connection) {\r\n    return <div class=\"status\">{\r\n      props.status === 'connecting'\r\n        ? <p>ü§ù Connecting...</p>\r\n        : <p class=\"button\" onClick={() => connection.connect()}>üëã Connect</p>\r\n    }</div>\r\n  }}</ConnectionContext.Consumer>\r\n};","import React from 'react';\r\nimport ConnectionContext from './ConnectionContext';\r\n\r\nconst bounce = function (elem) {\r\n  elem.classList.add('bounce');\r\n  clearTimeout(elem.bouncer);\r\n  elem.bouncer = setTimeout(function () { elem.classList.remove('bounce'); }, 500);\r\n};\r\n\r\nconst Button = function ({ icon, src }) {\r\n  return <ConnectionContext.Consumer>{function (connection) {\r\n    const button = React.createRef();\r\n    const audio = React.createRef();\r\n    connection.onPlay(icon, function () {\r\n      bounce(button.current);\r\n      audio.current.play();\r\n    });\r\n    return <>\r\n      <span ref={button} class=\"button\" id={`${icon}-button`} onClick={() => connection.send(icon)}>{icon}</span>\r\n      <audio ref={audio} id={`${icon}-player`} src={src}></audio>\r\n    </>;\r\n  }}</ConnectionContext.Consumer>\r\n};\r\n\r\nexport default Button;\r\n","import React from 'react';\r\nimport Button from './Button';\r\nimport './SoundBoard.css';\r\n\r\nexport default function () {\r\n  return <div class=\"grid\">\r\n    <Button icon=\"üëè\" src=\"/audio/clap.mp3\" />\r\n    <Button icon=\"ü•≥\" src=\"/audio/party.mp3\" />\r\n    <Button icon=\"ü§£\" src=\"/audio/laugh.mp3\" />\r\n    <Button icon=\"ü•Å\" src=\"/audio/drum.mp3\" />\r\n    <Button icon=\"üèÜ\" src=\"/audio/success.mp3\" />\r\n    <Button icon=\"ü§Ø\" src=\"/audio/wow.mp3\" />\r\n    <Button icon=\"üòÆ\" src=\"/audio/ooh.mp3\" />\r\n    <Button icon=\"ü§ë\" src=\"/audio/kaching.mp3\" />\r\n    <Button icon=\"ü•∫\" src=\"/audio/aww.mp3\" />\r\n    <Button icon=\"ü§î\" src=\"/audio/hmm.mp3\" />\r\n    <Button icon=\"ü§®\" src=\"/audio/huh.mp3\" />\r\n    <Button icon=\"ü•±\" src=\"/audio/yawn.mp3\" />\r\n    <Button icon=\"üòà\" src=\"/audio/evil.mp3\" />\r\n    <Button icon=\"ü§¶\" src=\"/audio/facepalm.mp3\" />\r\n    <Button icon=\"ü§¨\" src=\"/audio/boo.mp3\" />\r\n    <Button icon=\"üò±\" src=\"/audio/scream.mp3\" />\r\n    <Button icon=\"ü¶ó\" src=\"/audio/cricket.mp3\" />\r\n    <Button icon=\"ü¶ñ\" src=\"/audio/dinosaur.mp3\" />\r\n    <Button icon=\"üßè\" src=\"/audio/louder.mp3\" />\r\n    <Button icon=\"ü§´\" src=\"/audio/ssh.mp3\" />\r\n    <Button icon=\"üëç\" src=\"/audio/yes.mp3\" />\r\n    <Button icon=\"üëé\" src=\"/audio/no.mp3\" />\r\n    <Button icon=\"üôÜ\" src=\"/audio/right.mp3\" />\r\n    <Button icon=\"üôÖ\" src=\"/audio/wrong.mp3\" />\r\n  </div>;\r\n}","import React from 'react';\nimport ConnectionContext from './ConnectionContext';\nimport ConnectionStatus from './ConnectionStatus';\nimport SoundBoard from './SoundBoard';\nimport './App.css';\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      status: 'disconnected',\n    };\n\n    props.connection.onConnecting(() => this.setState({ status: 'connecting' }));\n    props.connection.onConnected(() => this.setState({ status: 'connected' }));\n    props.connection.onDisconnect(() => this.setState({ status: 'disconnected' }));\n  }\n\n  render() {\n    const { connection } = this.props;\n    const { status } = this.state;\n    return <ConnectionContext.Provider value={connection}>\n      {\n        status === 'connected'\n          ? <SoundBoard />\n          : <ConnectionStatus status={status} />\n      }      \n    </ConnectionContext.Provider>;\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport Connection from './Connection';\n\nconst params = new URLSearchParams(window.location.search);\nconst room = params.get('room') || 'üåè';\nconst connection = new Connection({ room });\n\nReactDOM.render(\n  <React.StrictMode>\n    <App connection={connection} />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n","import { HubConnectionBuilder } from '@microsoft/signalr';\r\n\r\nclass Connection {\r\n  constructor(props) {\r\n    this.props = props;\r\n    this.playHandlers = {};\r\n    this.connectingHandler = () => {};\r\n    this.connectedHandler = () => {};\r\n    this.disconnectedHandler = () => {};\r\n\r\n    // this.connect();\r\n  }\r\n\r\n  send(fx) {\r\n    this.connection.invoke('send', this.props.room, fx);\r\n  }\r\n\r\n  onPlay(action, callback) {\r\n    this.playHandlers[action] = callback;\r\n  }\r\n\r\n  onConnected(callback) {\r\n    this.connectedHandler = callback;\r\n  }\r\n\r\n  onConnecting(callback) {\r\n    this.connectingHandler = callback;\r\n  }\r\n\r\n  onDisconnect(callback) {\r\n    this.disconnectedHandler = callback;\r\n  }\r\n\r\n  connect() {\r\n    this.connectingHandler();\r\n    this.connection = new HubConnectionBuilder()\r\n      .withUrl('/sound')\r\n      .build();\r\n\r\n    this.connection.on('join', () => console.log('Somebody joined'));\r\n    this.connection.on('play', fx => {\r\n      console.log('Playing', fx);\r\n      this.playHandlers[fx]();\r\n    });\r\n    this.connection.onclose(this.disconnectedHandler);\r\n\r\n    this.connection\r\n      .start()\r\n      .then(() => {\r\n        this.connectedHandler();\r\n        this.connection.invoke('join', this.props.room)\r\n      }).catch(error => {\r\n        console.error('Failed to connect', error.message);\r\n        this.disconnectedHandler();\r\n      });\r\n  }\r\n}\r\n\r\nexport default Connection;"],"sourceRoot":""}