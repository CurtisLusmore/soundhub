(this.webpackJsonpsoundroom=this.webpackJsonpsoundroom||[]).push([[0],{18:function(e,n,t){e.exports=t(31)},23:function(e,n,t){},24:function(e,n,t){},25:function(e,n,t){},26:function(e,n,t){},31:function(e,n,t){"use strict";t.r(n);var a=t(1),o=t.n(a),c=t(14),r=t.n(c),i=(t(23),t(7)),u=t(8),s=t(10),l=t(11),m=o.a.createContext((function(){})),d=t(9),h=(t(24),function(e){Object(l.a)(t,e);var n=Object(s.a)(t);function t(e){var a;Object(i.a)(this,t),a=n.call(this,e);var c=o.a.createRef();return a.state={room:e.roomState.get(),audio:c},a.onChange=a.onChange.bind(Object(d.a)(a)),a}return Object(u.a)(t,[{key:"onChange",value:function(e){var n=e.target.value;this.setState({room:n})}},{key:"submit",value:function(e,n){e.preventDefault();var t=this.props.roomState,a=this.state,o=a.room,c=a.audio;return t.set(o),n.connect(o),c.current.play(),!1}},{key:"render",value:function(){var e=this,n=this.props.status,t=this.state,a=t.room,c=t.audio;return o.a.createElement(m.Consumer,null,(function(t){return o.a.createElement("div",{class:"status"},o.a.createElement("audio",{ref:c,src:"/audio/click.mp3"}),"connecting"===n?o.a.createElement("p",null,"\ud83e\udd1d Connecting..."):o.a.createElement("form",{onSubmit:function(n){return e.submit(n,t)}},o.a.createElement("input",{type:"text",placeholder:"Room",value:a,onChange:e.onChange,autoFocus:!0}),o.a.createElement("input",{type:"submit",value:"\ud83d\udc4b Connect"})))}))}}]),t}(o.a.Component)),p=function(e){var n=e.icon,t=e.src,a=e.alt;return o.a.createElement(m.Consumer,null,(function(e){var c=o.a.createRef(),r=o.a.createRef();return e.onPlay(n,(function(){var e;(e=c.current).classList.add("bounce"),clearTimeout(e.bouncer),e.bouncer=setTimeout((function(){e.classList.remove("bounce")}),500),r.current.play()})),o.a.createElement(o.a.Fragment,null,o.a.createElement("button",{ref:c,class:"button",id:"".concat(n,"-button"),title:a,"aria-title":a,onClick:function(){return e.send(n)}},n),o.a.createElement("audio",{ref:r,id:"".concat(n,"-player"),src:t}))}))},f=(t(25),function(){return o.a.createElement("div",{class:"grid"},o.a.createElement(p,{icon:"\ud83d\udc4f",src:"/audio/clap.mp3",alt:"Clap"}),o.a.createElement(p,{icon:"\ud83e\udd73",src:"/audio/party.mp3",alt:"Party"}),o.a.createElement(p,{icon:"\ud83e\udd23",src:"/audio/laugh.mp3",alt:"Laugh"}),o.a.createElement(p,{icon:"\ud83e\udd41",src:"/audio/drum.mp3",alt:"Badum-tish"}),o.a.createElement(p,{icon:"\ud83c\udfc6",src:"/audio/success.mp3",alt:"Success"}),o.a.createElement(p,{icon:"\ud83e\udd2f",src:"/audio/wow.mp3",alt:"Wow"}),o.a.createElement(p,{icon:"\ud83d\ude2e",src:"/audio/ooh.mp3",alt:"Ooh"}),o.a.createElement(p,{icon:"\ud83e\udd11",src:"/audio/kaching.mp3",alt:"Kaching"}),o.a.createElement(p,{icon:"\ud83e\udd7a",src:"/audio/aww.mp3",alt:"Aww"}),o.a.createElement(p,{icon:"\ud83e\udd14",src:"/audio/hmm.mp3",alt:"Hmm"}),o.a.createElement(p,{icon:"\ud83e\udd28",src:"/audio/huh.mp3",alt:"Huh"}),o.a.createElement(p,{icon:"\ud83e\udd71",src:"/audio/yawn.mp3",alt:"Yawn"}),o.a.createElement(p,{icon:"\ud83d\ude08",src:"/audio/evil.mp3",alt:"Evil"}),o.a.createElement(p,{icon:"\ud83e\udd26",src:"/audio/facepalm.mp3",alt:"Facepalm"}),o.a.createElement(p,{icon:"\ud83e\udd2c",src:"/audio/boo.mp3",alt:"Boo"}),o.a.createElement(p,{icon:"\ud83d\ude31",src:"/audio/scream.mp3",alt:"Scream"}),o.a.createElement(p,{icon:"\ud83e\udd97",src:"/audio/cricket.mp3",alt:"Crickets"}),o.a.createElement(p,{icon:"\ud83e\udd96",src:"/audio/dinosaur.mp3",alt:"Dinosaur"}),o.a.createElement(p,{icon:"\ud83e\uddcf",src:"/audio/louder.mp3",alt:"Louder"}),o.a.createElement(p,{icon:"\ud83e\udd2b",src:"/audio/ssh.mp3",alt:"Ssh"}),o.a.createElement(p,{icon:"\ud83d\udc4d",src:"/audio/yes.mp3",alt:"Yes"}),o.a.createElement(p,{icon:"\ud83d\udc4e",src:"/audio/no.mp3",alt:"No"}),o.a.createElement(p,{icon:"\ud83d\ude46",src:"/audio/right.mp3",alt:"Right"}),o.a.createElement(p,{icon:"\ud83d\ude45",src:"/audio/wrong.mp3",alt:"Wrong"}))}),E=(t(26),function(e){Object(l.a)(t,e);var n=Object(s.a)(t);function t(e){var a;return Object(i.a)(this,t),(a=n.call(this,e)).state={status:"disconnected"},e.connection.onConnecting((function(){return a.setState({status:"connecting"})})),e.connection.onConnected((function(){return a.setState({status:"connected"})})),e.connection.onDisconnect((function(){return a.setState({status:"disconnected"})})),a}return Object(u.a)(t,[{key:"render",value:function(){var e=this.props,n=e.connection,t=e.roomState,a=this.state.status;return o.a.createElement(m.Provider,{value:n},"connected"===a?o.a.createElement(f,null):o.a.createElement(h,{roomState:t,status:a}))}}]),t}(o.a.Component)),v=t(17),g=new(function(){function e(){Object(i.a)(this,e),this.playHandlers={},this.connectingHandler=function(){},this.connectedHandler=function(){},this.disconnectedHandler=function(){}}return Object(u.a)(e,[{key:"send",value:function(e){this.connection.invoke("send",this.room,e)}},{key:"onPlay",value:function(e,n){this.playHandlers[e]=n}},{key:"onConnected",value:function(e){this.connectedHandler=e}},{key:"onConnecting",value:function(e){this.connectingHandler=e}},{key:"onDisconnect",value:function(e){this.disconnectedHandler=e}},{key:"connect",value:function(e){var n=this;this.connectingHandler(),this.room=e||"%DEFAULT%",this.connection=(new v.a).withUrl("/sound").build(),this.connection.on("join",(function(){return console.log("Somebody joined")})),this.connection.on("play",(function(e){console.log("Playing",e),n.playHandlers[e]()})),this.connection.onclose(this.disconnectedHandler),this.connection.start().then((function(){n.connectedHandler(),n.connection.invoke("join",n.room)})).catch((function(e){console.error("Failed to connect",e.message),n.disconnectedHandler()}))}}]),e}()),b={get:function(){return window.location.hash.substr(1)||""},set:function(e){window.location.hash=e}};r.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(E,{roomState:b,connection:g})),document.getElementById("root"))}},[[18,1,2]]]);
//# sourceMappingURL=main.f55ad534.chunk.js.map